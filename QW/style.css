/* --- THEME DEFINITIONS --- */
/* 預設主題 (薰衣草田) */
:root {
    --page-bg: #f5f3ff; 
    --card-bg: #ffffff; 
    --card-border: #ddd6fe; 
    --heading-color: #6d28d9; 
    --text-color: #5b21b6; 
    --subtle-text-color: #a78bfa; 
    --button-bg: #8b5cf6; 
    --button-text: #ffffff; 
    --accent-color: #7c3aed; 
    --danger-color: #ef4444;
}

/* 當對應的 radio 被選中時，更新 page-wrapper 上的 CSS 變數 */
#theme-strawberry:checked ~ #page-wrapper { --page-bg: #fff1f2; --card-bg: #ffffff; --card-border: #fecdd3; --heading-color: #be123c; --text-color: #881337; --subtle-text-color: #fb7185; --button-bg: #f43f5e; --button-text: #ffffff; --accent-color: #e11d48; }
#theme-mint:checked ~ #page-wrapper { --page-bg: #f0fdfa; --card-bg: #ffffff; --card-border: #99f6e4; --heading-color: #0d9488; --text-color: #0f766e; --subtle-text-color: #2dd4bf; --button-bg: #14b8a6; --button-text: #ffffff; --accent-color: #14b8a6; }
#theme-lavender:checked ~ #page-wrapper { --page-bg: #f5f3ff; --card-bg: #ffffff; --card-border: #ddd6fe; --heading-color: #6d28d9; --text-color: #5b21b6; --subtle-text-color: #a78bfa; --button-bg: #8b5cf6; --button-text: #ffffff; --accent-color: #7c3aed; }
#theme-orange:checked ~ #page-wrapper { --page-bg: #fffaf0; --card-bg: #ffffff; --card-border: #fde68a; --heading-color: #d97706; --text-color: #b45309; --subtle-text-color: #f59e0b; --button-bg: #f59e0b; --button-text: #ffffff; --accent-color: #f59e0b; }
#theme-blueberry:checked ~ #page-wrapper { --page-bg: #eff6ff; --card-bg: #ffffff; --card-border: #bfdbfe; --heading-color: #1d4ed8; --text-color: #1e3a8a; --subtle-text-color: #60a5fa; --button-bg: #3b82f6; --button-text: #ffffff; --accent-color: #2563eb; }

/* --- THEME APPLICATION --- */
/* 將 CSS 變數應用到各個元件上 */
body { 
    font-family: 'Noto Sans TC', sans-serif; 
}
#page-wrapper { 
    background-color: var(--page-bg); 
    color: var(--text-color); 
    transition: background-color 0.3s, color 0.3s; 
    min-height: 100vh;
}
.themed-card { 
    background-color: var(--card-bg); 
    border-color: var(--card-border); 
}
.themed-heading { 
    color: var(--heading-color); 
}
.themed-button-primary { 
    background-color: var(--button-bg); 
    color: var(--button-text); 
}
.themed-button-primary:hover { 
    background-color: var(--heading-color); 
}
.themed-accent-text { 
    color: var(--accent-color); 
}
.themed-accent-text-hover:hover { 
    color: var(--heading-color); 
}
.themed-button-danger-text { 
    color: var(--subtle-text-color); 
}
.themed-button-danger-text:hover { 
    color: var(--danger-color); 
}
.tab-btn.active { 
    color: var(--heading-color); 
    border-bottom-color: var(--heading-color); 
}
.loader { 
    border-top-color: var(--heading-color); 
}
.option-radio:checked { 
    border-color: var(--heading-color); 
    background-color: var(--heading-color); 
}

/* --- 自訂通用樣式 --- */
.loader { 
    border: 5px solid #f3f3f3; 
    border-radius: 50%; 
    width: 50px; 
    height: 50px; 
    animation: spin 1s linear infinite; 
}
@keyframes spin { 
    0% { transform: rotate(0deg); } 
    100% { transform: rotate(360deg); } 
}

/* 頁籤功能 */
.tab-content { display: none; }
.tab-content.active { display: block; }
.tabs-container::-webkit-scrollbar { display: none; }
.tabs-container { -ms-overflow-style: none; scrollbar-width: none; }
.tab-btn {
    @apply py-3 px-1 md:px-2 border-b-2 border-transparent text-sm font-medium text-gray-500 hover:text-gray-700 hover:border-gray-300 whitespace-nowrap transition-colors;
}

/* 拖曳功能樣式 */
.drag-over { 
    border-color: var(--accent-color) !important; 
    background-color: var(--page-bg) !important; 
}
.question-card.sortable-ghost { 
    background: var(--page-bg); 
    opacity: 0.7; 
    border-left-color: var(--accent-color); 
}

/* 自訂選項 Radio 按鈕 */
.option-radio { 
    -webkit-appearance: none; 
    -moz-appearance: none; 
    appearance: none; 
    border: 2px solid #9ca3af; 
    border-radius: 50%; 
    width: 1.25rem; 
    height: 1.25rem; 
    transition: all 0.2s; 
    margin-right: 0.5rem; 
    flex-shrink: 0; 
    cursor: pointer;
}

/* 設定彈出視窗 */
.settings-popover { 
    visibility: hidden; 
    opacity: 0; 
    transform: translateY(-10px); 
    transition: all 0.2s ease-in-out; 
}
.settings-popover.open { 
    visibility: visible; 
    opacity: 1; 
    transform: translateY(0); 
}
input[type="radio"][name="theme"]:checked + label { 
    outline: 3px solid var(--accent-color); 
    transform: scale(1.05); 
}
